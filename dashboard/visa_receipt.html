<!DOCTYPE html>
<html lang="en-US" data-lang="en-US" crm-lang="en-US" dir="ltr" crm-lcid="1033" same-site-mode="None">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <style data-merge-styles="true"></style>

    <style data-merge-styles="true"></style>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <script type="text/javascript">

    </script>
    <title>My visas | Immigration New Zealand</title>

    <script src="./assets/getresourcemanager"></script>

    <script type="text/javascript">
        // Refresh all powerBI Iframes on Login in one Iframe
        window.addEventListener('message', function (event) {
            if (event && event.data && event.data == 'refreshPowerBI') {
                $("iframe.powerbi").each(function () {
                    this.src = this.src;
                });
            }
        });

        // Fix for incorrect viewport width setting in IE 10 on Windows Phone 8.
        if (navigator.userAgent.match(/IEMobile\/10\.0/)) {
            var msViewportStyle = document.createElement("style");
            msViewportStyle.appendChild(document.createTextNode("@-ms-viewport{width:auto!important}"));
            document.getElementsByTagName("head")[0].appendChild(msViewportStyle);
        }
    </script>



    <link href="./assets/bootstrap.min.css" rel="stylesheet">

    <link href="./assets/font-awesome/css/font-awesome.min.css"
        onerror="javascript: var target = event.target; var link = document.createElement(&#39;link&#39;); link.crossOrigin = target.crossOrigin; link.href = &#39;/dist/font-awesome.bundle-3d8a58a48f.css&#39;; link.rel = &#39;stylesheet&#39;; target.insertAdjacentElement(&#39;afterend&#39;,link);"
        rel="stylesheet">

    <link href="./assets/preform.bundle-ed52eff176.css"
        onerror="javascript: var target = event.target; var link = document.createElement(&#39;link&#39;); link.crossOrigin = target.crossOrigin; link.href = &#39;/dist/preform.bundle-ed52eff176.css&#39;; link.rel = &#39;stylesheet&#39;; target.insertAdjacentElement(&#39;afterend&#39;,link);"
        rel="stylesheet">



    <!--[if lt IE 9]>
				<script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
			<![endif]-->

    <!--[if lt IE 10]>
				<script src="~/js/formdata.js"></script>
			<![endif]-->



    <link href="./assets/mcs-default.css" rel="stylesheet">
    <link href="./assets/adept.css" rel="stylesheet">

    <style type="text/css">
        #SuccessMessagePanel {
            background-color: #0e7ac3;
            border-color: #0e7ac3;
            padding-bottom: 10px;
            display: block;
        }

        #SuccessMessageLabel {
            color: #f5f5f5;
        }

        .close-success-message {
            color: #f5f5f5;
            float: right;
            padding-right: 10px;
        }

        .container.success-msg-custom {
            min-height: 0;
            padding-bottom: 100px;
        }

        .externalStatus {
            background-repeat: no-repeat;
            background-position-y: 3px;
            padding-left: 24px;
        }

        .externalStatus.approved {
            background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwXzQwN180NDQzKSI+CjxwYXRoIGQ9Ik0xOS4zNzUgOC4yODE2N0MxOS4zNzUyIDEwLjk0MDQgMTguNDMzNyAxMy41MTMyIDE2LjcxNzUgMTUuNTQzOUMxNS4wMDE0IDE3LjU3NDYgMTIuNjIxNSAxOC45MzE5IDEwIDE5LjM3NUM3LjM3ODQ3IDE4LjkzMTkgNC45OTg1OSAxNy41NzQ2IDMuMjgyNDUgMTUuNTQzOUMxLjU2NjMxIDEzLjUxMzIgMC42MjQ4MzggMTAuOTQwNCAwLjYyNSA4LjI4MTY3VjEuODc1QzAuNjI1IDEuNTQzNDggMC43NTY2OTYgMS4yMjU1NCAwLjk5MTExNyAwLjk5MTExN0MxLjIyNTU0IDAuNzU2Njk2IDEuNTQzNDggMC42MjUgMS44NzUgMC42MjVIMTguMTI1QzE4LjQ1NjUgMC42MjUgMTguNzc0NSAwLjc1NjY5NiAxOS4wMDg5IDAuOTkxMTE3QzE5LjI0MzMgMS4yMjU1NCAxOS4zNzUgMS41NDM0OCAxOS4zNzUgMS44NzVWOC4yODE2N1oiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMS4yNSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik0wLjYyNSA0LjM3NUgxOS4zNzUiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMS4yNSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik0xNC4zNzUgOC4xMjQyN0w5LjgxNjY3IDEyLjY4MjZDOS43NTg3IDEyLjc0MDcgOS42ODk4NSAxMi43ODY3IDkuNjE0MDYgMTIuODE4MUM5LjUzODI4IDEyLjg0OTYgOS40NTcwNCAxMi44NjU3IDkuMzc1IDEyLjg2NTdDOS4yOTI5NiAxMi44NjU3IDkuMjExNzIgMTIuODQ5NiA5LjEzNTk0IDEyLjgxODFDOS4wNjAxNSAxMi43ODY3IDguOTkxMyAxMi43NDA3IDguOTMzMzMgMTIuNjgyNkw3LjUgMTEuMjUwMSIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLXdpZHRoPSIxLjI1IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPC9nPgo8ZGVmcz4KPGNsaXBQYXRoIGlkPSJjbGlwMF80MDdfNDQ0MyI+CjxyZWN0IHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0id2hpdGUiLz4KPC9jbGlwUGF0aD4KPC9kZWZzPgo8L3N2Zz4K);
        }

        .externalStatus.gathering {
            background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwXzQwN180NDMzKSI+CjxwYXRoIGQ9Ik04LjcwODMzIDUuNjI0NzZMNy4yMDgzMyAzLjYyNDc1QzYuOTU4MzMgMy4yOTE0MSA2LjYyNSAzLjEyNDc2IDYuMjA4MzMgMy4xMjQ3NkgxLjg3NUMxLjIwODMzIDMuMTI0NzYgMC42MjUgMy43MDgwOSAwLjYyNSA0LjM3NDc2VjE4LjEyNDdDMC42MjUgMTguNzkxNCAxLjIwODMzIDE5LjM3NDcgMS44NzUgMTkuMzc0N0gxOC4xMjVDMTguNzkxNyAxOS4zNzQ3IDE5LjM3NSAxOC43OTE0IDE5LjM3NSAxOC4xMjQ3VjExLjA0MTQiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMS4yNSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPHBhdGggZD0iTTEyLjA0MiA1LjYyNVYwLjYyNSIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLXdpZHRoPSIxLjI1IiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8cGF0aCBkPSJNMTIuMDQyIDcuNzA4NVY4LjU0MTgzIiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjEuMjUiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik05Ljk1ODAxIDIuNzA4MzNMMTIuMDQxMyAwLjYyNUwxNC4xMjQ3IDIuNzA4MzMiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMS4yNSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPHBhdGggZD0iTTE2LjYyNSAzLjk1ODVWOC45NTg1IiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjEuMjUiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik0xNi42MjUgMS44NzQ4NFYxLjA0MTUiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMS4yNSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPHBhdGggZD0iTTE0LjU0MiA2Ljg3NUwxNi42MjUzIDguOTU4MzNMMTguNzA4NyA2Ljg3NSIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLXdpZHRoPSIxLjI1IiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8L2c+CjxkZWZzPgo8Y2xpcFBhdGggaWQ9ImNsaXAwXzQwN180NDMzIj4KPHJlY3Qgd2lkdGg9IjIwIiBoZWlnaHQ9IjIwIiBmaWxsPSJ3aGl0ZSIvPgo8L2NsaXBQYXRoPgo8L2RlZnM+Cjwvc3ZnPgo=);
        }

        .externalStatus.checking {
            background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwXzQwN180NDI1KSI+CjxwYXRoIGQ9Ik0wLjg3NSAyLjkxNjc1QzUuMjA4MzMgMi45MTY3NSA4LjcwODM3IDYuMDgzNDIgOC43MDgzNyAxMC4wMDAxQzguNzA4MzcgMTMuOTE2NyAxMi4yMDg0IDE3LjA4MzQgMTYuNTQxNyAxNy4wODM0SDE5LjIwODMiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMS4yNSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPHBhdGggZD0iTTE3LjU0MiAxNS40MTY3TDE5LjIwODcgMTcuMDgzNEwxNy41NDIgMTguNzUwMSIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLXdpZHRoPSIxLjI1IiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8cGF0aCBkPSJNMC44NzUgMTcuMDgzNkMzLjIwODMzIDE3LjA4MzYgNS4yOTE2NyAxNi4xNjY5IDYuNzA4MzMgMTQuNzUwMiIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLXdpZHRoPSIxLjI1IiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8cGF0aCBkPSJNMTAuNTQyIDUuNDE2NzVDMTEuOTU4NyAzLjkxNjc1IDE0LjEyNTMgMi45MTY3NSAxNi40NTg3IDIuOTE2NzVIMTkuMTI1MyIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLXdpZHRoPSIxLjI1IiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8cGF0aCBkPSJNMTcuNTQyIDQuNTgzMzNMMTkuMjA4NyAyLjkxNjY3TDE3LjU0MiAxLjI1IiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjEuMjUiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjwvZz4KPGRlZnM+CjxjbGlwUGF0aCBpZD0iY2xpcDBfNDA3XzQ0MjUiPgo8cmVjdCB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIGZpbGw9IndoaXRlIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+Cg==);
        }

        .externalStatus.deciding {
            background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwXzQwN180NDQ5KSI+CjxwYXRoIGQ9Ik0xMCAzLjcwNTgxQzExLjIzNjEgMy43MDU4MSAxMi40NDQ1IDQuMDcyMzcgMTMuNDcyMyA0Ljc1OTEzQzE0LjUwMDEgNS40NDU4OCAxNS4zMDEyIDYuNDIyIDE1Ljc3NDIgNy41NjQwNEMxNi4yNDczIDguNzA2MDggMTYuMzcxMSA5Ljk2Mjc0IDE2LjEyOTkgMTEuMTc1MUMxNS44ODg4IDEyLjM4NzUgMTUuMjkzNSAxMy41MDEyIDE0LjQxOTQgMTQuMzc1MkMxMy41NDUzIDE1LjI0OTMgMTIuNDMxNyAxNS44NDQ2IDExLjIxOTMgMTYuMDg1N0MxMC4wMDY5IDE2LjMyNjkgOC43NTAyNyAxNi4yMDMxIDcuNjA4MjMgMTUuNzMwMUM2LjQ2NjE5IDE1LjI1NyA1LjQ5MDA3IDE0LjQ1NTkgNC44MDMzMiAxMy40MjgxQzQuMTE2NTYgMTIuNDAwMyAzLjc1IDExLjE5MTkgMy43NSA5Ljk1NTgxIiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjEuMjUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8cGF0aCBkPSJNMTkuMTE4NyAxMi4xMDI1QzE4LjkyNDIgMTIuOTMwNiAxOC42MTk1IDEzLjcyODggMTguMjEyOSAxNC40NzU5IiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjEuMjUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8cGF0aCBkPSJNMTYuNTExNyAxNi42OTI0QzE1Ljg5NTcgMTcuMjc5IDE1LjIwODQgMTcuNzg1OCAxNC40NjU4IDE4LjIwMDciIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMS4yNSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik0xMC44MjcxIDAuNjIyNTU5QzExLjY3NDYgMC42OTc2MzIgMTIuNTA3NyAwLjg4ODg2NyAxMy4zMDMgMS4xOTA4OSIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLXdpZHRoPSIxLjI1IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPHBhdGggZD0iTTE1Ljc0MDIgMi41NTQyQzE2LjQxNDkgMy4wNzIyOSAxNy4wMTI4IDMuNjgzMzcgMTcuNTE2MSA0LjM2OTIiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMS4yNSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik0xOC44MzMgNi44MzM1QzE5LjEyMzUgNy42MzMxIDE5LjI5NTkgOC40NzA4MSAxOS4zNDQ3IDkuMzIwMTYiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMS4yNSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik0xMS44NzUgMTkuMTQzM0MxMC42Njg0IDE5LjM4OTUgOS40MjUyNCAxOS4zOTU3IDguMjE2MzMgMTkuMTYxNUM3LjAwNzQyIDE4LjkyNzMgNS44NTY0OSAxOC40NTcyIDQuODI5MjQgMTcuNzc4MkMyLjc1NDYyIDE2LjQwNjggMS4zMDk3NCAxNC4yNjc1IDAuODEyNDU5IDExLjgzMDhDMC4zMTUxNzggOS4zOTQxMyAwLjgwNjIzIDYuODU5NzEgMi4xNzc1OSA0Ljc4NTA5QzMuNTQ4OTUgMi43MTA0NyA1LjY4ODI4IDEuMjY1NTkgOC4xMjQ5NiAwLjc2ODMxMSIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLXdpZHRoPSIxLjI1IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPC9nPgo8ZGVmcz4KPGNsaXBQYXRoIGlkPSJjbGlwMF80MDdfNDQ0OSI+CjxyZWN0IHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0id2hpdGUiLz4KPC9jbGlwUGF0aD4KPC9kZWZzPgo8L3N2Zz4K);
        }
    </style>





    <link href="./assets/pwa-style.bundle-2739c60227.css"
        onerror="javascript: var target = event.target; var link = document.createElement(&#39;link&#39;); link.crossOrigin = target.crossOrigin; link.href = &#39;/dist/pwa-style.bundle-2739c60227.css&#39;; link.rel = &#39;stylesheet&#39;; target.insertAdjacentElement(&#39;afterend&#39;,link);"
        rel="stylesheet">

    <style data-load-themed-styles="true" type="text/css">
        .pickerText_cc9894a7 {
            display: -webkit-box;
            display: -ms-flexbox;
            display: flex;
            -ms-flex-wrap: wrap;
            flex-wrap: wrap;
            -webkit-box-align: center;
            -ms-flex-align: center;
            align-items: center;
            -webkit-box-sizing: border-box;
            box-sizing: border-box;
            border: 1px solid #a19f9d;
            min-width: 180px;
            padding: 1px;
            min-height: 32px
        }

        .pickerText_cc9894a7:hover {
            border-color: #c7e0f4
        }

        .pickerInput_cc9894a7 {
            height: 34px;
            border: none;
            -webkit-box-flex: 1;
            -ms-flex-positive: 1;
            flex-grow: 1;
            outline: 0;
            padding: 0 6px 0;
            margin: 1px
        }

        .pickerInput_cc9894a7::-ms-clear {
            display: none
        }
    </style>
    <style data-load-themed-styles="true" type="text/css">
        .resultContent_ae2a2ef5 {
            display: table-row
        }

        .resultContent_ae2a2ef5 .resultItem_ae2a2ef5 {
            display: table-cell;
            vertical-align: bottom
        }

        .peoplePickerPersona_ae2a2ef5 {
            width: 180px
        }

        .peoplePickerPersona_ae2a2ef5 .ms-Persona-details {
            width: 100%
        }

        .peoplePicker_ae2a2ef5 .ms-BasePicker-text {
            min-height: 40px
        }

        .peoplePickerPersonaContent_ae2a2ef5 {
            display: -webkit-box;
            display: -ms-flexbox;
            display: flex;
            width: 100%;
            -webkit-box-pack: justify;
            -ms-flex-pack: justify;
            justify-content: space-between;
            -webkit-box-align: center;
            -ms-flex-align: center;
            align-items: center
        }
    </style>
    <style data-load-themed-styles="true" type="text/css">
        .callout_0508e60b .ms-Suggestions-itemButton {
            padding: 0;
            border: none
        }

        .callout_0508e60b .ms-Suggestions {
            min-width: 300px
        }
    </style>
    <style data-load-themed-styles="true" type="text/css">
        .root_2f55324e {
            min-width: 260px
        }

        .suggestionsItem_2f55324e {
            display: -webkit-box;
            display: -ms-flexbox;
            display: flex;
            -webkit-box-align: stretch;
            -ms-flex-align: stretch;
            align-items: stretch;
            -webkit-box-sizing: border-box;
            box-sizing: border-box;
            width: 100%;
            position: relative;
            overflow: hidden
        }

        .suggestionsItem_2f55324e:hover {
            background: #f3f2f1
        }

        .suggestionsItem_2f55324e:hover .closeButton_2f55324e {
            display: block
        }

        .suggestionsItem_2f55324e.suggestionsItemIsSuggested_2f55324e {
            background: #edebe9
        }

        .suggestionsItem_2f55324e.suggestionsItemIsSuggested_2f55324e:hover {
            background: #c8c6c4
        }

        @media screen and (-ms-high-contrast:active) {
            .suggestionsItem_2f55324e.suggestionsItemIsSuggested_2f55324e:hover {
                background: Highlight;
                color: HighlightText
            }
        }

        @media screen and (-ms-high-contrast:active) {
            .suggestionsItem_2f55324e.suggestionsItemIsSuggested_2f55324e {
                background: Highlight;
                color: HighlightText;
                -ms-high-contrast-adjust: none
            }
        }

        .suggestionsItem_2f55324e.suggestionsItemIsSuggested_2f55324e .closeButton_2f55324e:hover {
            background: #a19f9d;
            color: #323130
        }

        @media screen and (-ms-high-contrast:active) {
            .suggestionsItem_2f55324e.suggestionsItemIsSuggested_2f55324e .itemButton_2f55324e {
                color: HighlightText
            }
        }

        .suggestionsItem_2f55324e .closeButton_2f55324e {
            display: none;
            color: #605e5c
        }

        .suggestionsItem_2f55324e .closeButton_2f55324e:hover {
            background: #edebe9
        }

        .actionButton_2f55324e {
            background-color: transparent;
            border: 0;
            cursor: pointer;
            margin: 0;
            position: relative;
            border-top: 1px solid #edebe9;
            height: 40px;
            width: 100%;
            font-size: 12px
        }

        [dir=ltr] .actionButton_2f55324e {
            padding-left: 8px
        }

        [dir=rtl] .actionButton_2f55324e {
            padding-right: 8px
        }

        html[dir=ltr] .actionButton_2f55324e {
            text-align: left
        }

        html[dir=rtl] .actionButton_2f55324e {
            text-align: right
        }

        .actionButton_2f55324e:hover {
            background-color: #edebe9;
            cursor: pointer
        }

        .actionButton_2f55324e:active,
        .actionButton_2f55324e:focus {
            background-color: #c7e0f4
        }

        .actionButton_2f55324e .ms-Button-icon {
            font-size: 16px;
            width: 25px
        }

        .actionButton_2f55324e .ms-Button-label {
            margin: 0 4px 0 9px
        }

        html[dir=rtl] .actionButton_2f55324e .ms-Button-label {
            margin: 0 9px 0 4px
        }

        .buttonSelected_2f55324e {
            background-color: #c7e0f4
        }

        .suggestionsTitle_2f55324e {
            padding: 0 12px;
            color: #0078d4;
            font-size: 12px;
            line-height: 40px;
            border-bottom: 1px solid #edebe9
        }

        .suggestionsContainer_2f55324e {
            overflow-y: auto;
            overflow-x: hidden;
            max-height: 300px;
            border-bottom: 1px solid #edebe9
        }

        .suggestionsNone_2f55324e {
            text-align: center;
            color: #797775;
            font-size: 12px;
            line-height: 30px
        }

        .suggestionsSpinner_2f55324e {
            margin: 5px 0;
            white-space: nowrap;
            line-height: 20px;
            font-size: 12px
        }

        html[dir=ltr] .suggestionsSpinner_2f55324e {
            padding-left: 14px
        }

        html[dir=rtl] .suggestionsSpinner_2f55324e {
            padding-right: 14px
        }

        html[dir=ltr] .suggestionsSpinner_2f55324e {
            text-align: left
        }

        html[dir=rtl] .suggestionsSpinner_2f55324e {
            text-align: right
        }

        .suggestionsSpinner_2f55324e .ms-Spinner-circle {
            display: inline-block;
            vertical-align: middle
        }

        .suggestionsSpinner_2f55324e .ms-Spinner-label {
            display: inline-block;
            margin: 0 10px 0 16px;
            vertical-align: middle
        }

        html[dir=rtl] .suggestionsSpinner_2f55324e .ms-Spinner-label {
            margin: 0 16px 0 10px
        }

        .itemButton_2f55324e.itemButton_2f55324e {
            width: 100%;
            padding: 0;
            min-width: 0;
            height: 100%
        }

        @media screen and (-ms-high-contrast:active) {
            .itemButton_2f55324e.itemButton_2f55324e {
                color: WindowText
            }
        }

        .itemButton_2f55324e.itemButton_2f55324e:hover {
            color: #201f1e
        }

        .closeButton_2f55324e.closeButton_2f55324e {
            padding: 0 4px;
            height: auto;
            width: 32px
        }

        @media screen and (-ms-high-contrast:active) {
            .closeButton_2f55324e.closeButton_2f55324e {
                color: WindowText
            }
        }

        .closeButton_2f55324e.closeButton_2f55324e:hover {
            background: #c8c6c4;
            color: #201f1e
        }

        .suggestionsAvailable_2f55324e {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            border: 0
        }

        .text-muted {
            visibility: none;
            opacity: 0;
        }
    </style>
    <style data-load-themed-styles="true" type="text/css">
        .suggestionsContainer_a151d363 {
            overflow-y: auto;
            overflow-x: hidden;
            max-height: 300px
        }

        .suggestionsContainer_a151d363 .ms-Suggestion-item:hover {
            background-color: #f3f2f1;
            cursor: pointer
        }

        .suggestionsContainer_a151d363 .is-suggested {
            background-color: #deecf9
        }

        .suggestionsContainer_a151d363 .is-suggested:hover {
            background-color: #c7e0f4;
            cursor: pointer
        }
    </style>
    <style data-load-themed-styles="true" type="text/css">
        .root_e4eecb3d {
            min-width: 260px
        }

        .actionButton_e4eecb3d {
            background: 0 0;
            background-color: transparent;
            border: 0;
            cursor: pointer;
            margin: 0;
            padding: 0;
            position: relative;
            width: 100%;
            font-size: 12px
        }

        html[dir=ltr] .actionButton_e4eecb3d {
            text-align: left
        }

        html[dir=rtl] .actionButton_e4eecb3d {
            text-align: right
        }

        .actionButton_e4eecb3d:hover {
            background-color: #f3f2f1;
            cursor: pointer
        }

        .actionButton_e4eecb3d:active,
        .actionButton_e4eecb3d:focus {
            background-color: #c7e0f4
        }

        .actionButton_e4eecb3d .ms-Button-icon {
            font-size: 16px;
            width: 25px
        }

        .actionButton_e4eecb3d .ms-Button-label {
            margin: 0 4px 0 9px
        }

        html[dir=rtl] .actionButton_e4eecb3d .ms-Button-label {
            margin: 0 9px 0 4px
        }

        .buttonSelected_e4eecb3d {
            background-color: #deecf9
        }

        .buttonSelected_e4eecb3d:hover {
            background-color: #c7e0f4;
            cursor: pointer
        }

        @media screen and (-ms-high-contrast:active) {
            .buttonSelected_e4eecb3d:hover {
                background-color: Highlight;
                color: HighlightText
            }
        }

        @media screen and (-ms-high-contrast:active) {
            .buttonSelected_e4eecb3d {
                background-color: Highlight;
                color: HighlightText;
                -ms-high-contrast-adjust: none
            }
        }

        .suggestionsTitle_e4eecb3d {
            font-size: 12px
        }

        .suggestionsSpinner_e4eecb3d {
            margin: 5px 0;
            white-space: nowrap;
            line-height: 20px;
            font-size: 12px
        }

        html[dir=ltr] .suggestionsSpinner_e4eecb3d {
            padding-left: 14px
        }

        html[dir=rtl] .suggestionsSpinner_e4eecb3d {
            padding-right: 14px
        }

        html[dir=ltr] .suggestionsSpinner_e4eecb3d {
            text-align: left
        }

        html[dir=rtl] .suggestionsSpinner_e4eecb3d {
            text-align: right
        }

        .suggestionsSpinner_e4eecb3d .ms-Spinner-circle {
            display: inline-block;
            vertical-align: middle
        }

        .suggestionsSpinner_e4eecb3d .ms-Spinner-label {
            display: inline-block;
            margin: 0 10px 0 16px;
            vertical-align: middle
        }

        html[dir=rtl] .suggestionsSpinner_e4eecb3d .ms-Spinner-label {
            margin: 0 16px 0 10px
        }

        .itemButton_e4eecb3d {
            height: 100%;
            width: 100%;
            padding: 7px 12px
        }

        @media screen and (-ms-high-contrast:active) {
            .itemButton_e4eecb3d {
                color: WindowText
            }
        }

        .screenReaderOnly_e4eecb3d {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            border: 0
        }
    </style>
    <style data-load-themed-styles="true" type="text/css">
        .resultContent_a17eb2a2 {
            display: table-row
        }

        .resultContent_a17eb2a2 .resultItem_a17eb2a2 {
            display: table-cell;
            vertical-align: bottom
        }

        .peoplePickerPersona_a17eb2a2 {
            width: 180px
        }

        .peoplePickerPersona_a17eb2a2 .ms-Persona-details {
            width: 100%
        }

        .peoplePicker_a17eb2a2 .ms-BasePicker-text {
            min-height: 40px
        }

        .peoplePickerPersonaContent_a17eb2a2 {
            display: -webkit-box;
            display: -ms-flexbox;
            display: flex;
            width: 100%;
            -webkit-box-pack: justify;
            -ms-flex-pack: justify;
            justify-content: space-between;
            -webkit-box-align: center;
            -ms-flex-align: center;
            align-items: center;
            padding: 7px 12px
        }
    </style>
    <style data-load-themed-styles="true" type="text/css">
        .pickerText_15a92175 {
            display: -webkit-box;
            display: -ms-flexbox;
            display: flex;
            -ms-flex-wrap: wrap;
            flex-wrap: wrap;
            -webkit-box-align: center;
            -ms-flex-align: center;
            align-items: center;
            -webkit-box-sizing: border-box;
            box-sizing: border-box;
            border: 1px solid #a19f9d;
            min-width: 180px;
            min-height: 30px
        }

        .pickerText_15a92175:hover {
            border-color: #323130
        }

        .pickerText_15a92175.inputFocused_15a92175 {
            position: relative;
            border-color: #0078d4
        }

        .pickerText_15a92175.inputFocused_15a92175:after {
            pointer-events: none;
            content: '';
            position: absolute;
            left: -1px;
            top: -1px;
            bottom: -1px;
            right: -1px;
            border: 2px solid #0078d4
        }

        @media screen and (-ms-high-contrast:active) {
            .pickerText_15a92175.inputDisabled_15a92175 {
                position: relative;
                border-color: GrayText
            }

            .pickerText_15a92175.inputDisabled_15a92175:after {
                pointer-events: none;
                content: '';
                position: absolute;
                left: 0;
                top: 0;
                bottom: 0;
                right: 0;
                background-color: Window
            }
        }

        .pickerInput_15a92175 {
            height: 34px;
            border: none;
            -webkit-box-flex: 1;
            -ms-flex-positive: 1;
            flex-grow: 1;
            outline: 0;
            padding: 0 6px 0;
            -ms-flex-item-align: end;
            align-self: flex-end
        }

        .pickerItems_15a92175 {
            display: -webkit-box;
            display: -ms-flexbox;
            display: flex;
            -ms-flex-wrap: wrap;
            flex-wrap: wrap;
            max-width: 100%
        }

        .screenReaderOnly_15a92175 {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            border: 0
        }
    </style>
    <style data-load-themed-styles="true" type="text/css">
        .personaContainer_cbad3345 {
            border-radius: 15px;
            display: -webkit-inline-box;
            display: -ms-inline-flexbox;
            display: inline-flex;
            -webkit-box-align: center;
            -ms-flex-align: center;
            align-items: center;
            background: #eff6fc;
            margin: 4px;
            cursor: default;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            vertical-align: middle;
            position: relative
        }

        .personaContainer_cbad3345::-moz-focus-inner {
            border: 0
        }

        .personaContainer_cbad3345 {
            outline: transparent
        }

        .personaContainer_cbad3345 {
            position: relative
        }

        .ms-Fabric--isFocusVisible .personaContainer_cbad3345:focus:after {
            -webkit-box-sizing: border-box;
            box-sizing: border-box;
            content: '';
            position: absolute;
            top: -2px;
            right: -2px;
            bottom: -2px;
            left: -2px;
            pointer-events: none;
            border: 1px solid #605e5c;
            border-radius: 0
        }

        .personaContainer_cbad3345 .ms-Persona-primaryText {
            color: #005a9e;
            font-size: 14px;
            font-weight: 400
        }

        .personaContainer_cbad3345 .ms-Persona-primaryText.hover_cbad3345 {
            color: #005a9e
        }

        @media screen and (-ms-high-contrast:active) {
            .personaContainer_cbad3345 .ms-Persona-primaryText {
                color: HighlightText
            }
        }

        .personaContainer_cbad3345 .actionButton_cbad3345:hover {
            background: #c7e0f4
        }

        .personaContainer_cbad3345 .actionButton_cbad3345 .ms-Button-icon {
            color: #005a9e
        }

        @media screen and (-ms-high-contrast:active) {
            .personaContainer_cbad3345 .actionButton_cbad3345 .ms-Button-icon {
                color: HighlightText
            }
        }

        .personaContainer_cbad3345:hover {
            background: #deecf9
        }

        .personaContainer_cbad3345:hover .ms-Persona-primaryText {
            color: #005a9e;
            font-size: 14px;
            font-weight: 400
        }

        @media screen and (-ms-high-contrast:active) {
            .personaContainer_cbad3345:hover .ms-Persona-primaryText {
                color: HighlightText
            }
        }

        .personaContainer_cbad3345.personaContainerIsSelected_cbad3345 {
            background: #0078d4
        }

        .personaContainer_cbad3345.personaContainerIsSelected_cbad3345 .ms-Persona-primaryText {
            color: #ffffff
        }

        @media screen and (-ms-high-contrast:active) {
            .personaContainer_cbad3345.personaContainerIsSelected_cbad3345 .ms-Persona-primaryText {
                color: HighlightText
            }
        }

        .personaContainer_cbad3345.personaContainerIsSelected_cbad3345 .actionButton_cbad3345 {
            color: #ffffff
        }

        .personaContainer_cbad3345.personaContainerIsSelected_cbad3345 .actionButton_cbad3345 .ms-Button-icon {
            color: #005a9e
        }

        .personaContainer_cbad3345.personaContainerIsSelected_cbad3345 .actionButton_cbad3345 .ms-Button-icon:hover {
            background: #005a9e
        }

        @media screen and (-ms-high-contrast:active) {
            .personaContainer_cbad3345.personaContainerIsSelected_cbad3345 .actionButton_cbad3345 .ms-Button-icon {
                color: HighlightText
            }
        }

        @media screen and (-ms-high-contrast:active) {
            .personaContainer_cbad3345.personaContainerIsSelected_cbad3345 {
                border-color: Highlight;
                background: Highlight;
                -ms-high-contrast-adjust: none
            }
        }

        .personaContainer_cbad3345.validationError_cbad3345 .ms-Persona-primaryText {
            color: #e81123
        }

        .personaContainer_cbad3345.validationError_cbad3345 .ms-Persona-initials {
            font-size: 20px
        }

        @media screen and (-ms-high-contrast:active) {
            .personaContainer_cbad3345 {
                border: 1px solid WindowText
            }
        }

        .personaContainer_cbad3345 .itemContent_cbad3345 {
            -webkit-box-flex: 0;
            -ms-flex: 0 1 auto;
            flex: 0 1 auto;
            min-width: 0;
            max-width: 100%
        }

        .personaContainer_cbad3345 .removeButton_cbad3345 {
            border-radius: 15px;
            -webkit-box-flex: 0;
            -ms-flex: 0 0 auto;
            flex: 0 0 auto;
            width: 33px;
            height: 33px;
            -ms-flex-preferred-size: 32px;
            flex-basis: 32px
        }

        .personaContainer_cbad3345 .expandButton_cbad3345 {
            border-radius: 15px 0 0 15px;
            height: 33px;
            width: 44px;
            padding-right: 16px;
            position: inherit;
            display: -webkit-box;
            display: -ms-flexbox;
            display: flex;
            margin-right: -17px
        }

        .personaContainer_cbad3345 .personaWrapper_cbad3345 {
            position: relative;
            display: inherit
        }

        .personaContainer_cbad3345 .personaWrapper_cbad3345 .ms-Persona-details {
            padding: 0 8px
        }

        .personaContainer_cbad3345 .personaDetails_cbad3345 {
            -webkit-box-flex: 0;
            -ms-flex: 0 1 auto;
            flex: 0 1 auto
        }

        .itemContainer_cbad3345 {
            display: inline-block;
            vertical-align: top
        }
    </style>
    <script src="./assets/ai.2.min.js.download" crossorigin="anonymous"></script>
</head>

<body data-sitemap-state="/visa_dashboard/:/" data-dateformat="dd MMM yyyy" data-timeformat="h:mm tt"
    data-datetimeformat="dd MMM yyyy h:mm tt" data-app-path="/"
    data-ckeditor-basepath="/js/BaseHtmlContentDesigner/Libs/msdyncrm_/libs/ckeditor/"
    data-case-deflection-url="/_services/search/7b138792-1090-45b6-9241-8f8d96d8c372">


    <link href="./assets/pcf-style.bundle-0d8f841437.css"
        onerror="javascript: var target = event.target; var link = document.createElement(&#39;link&#39;); link.crossOrigin = target.crossOrigin; link.href = &#39;/dist/pcf-style.bundle-0d8f841437.css&#39;; link.rel = &#39;stylesheet&#39;; target.insertAdjacentElement(&#39;afterend&#39;,link);"
        rel="stylesheet">





    <div id="offlineNotificationBar" style="display: none;">
        <img src="./assets/web.png" alt="web" id="web">
        <div id="message">Youâ€™re offline. This is a read only version of the page.</div>
        <div id="close" onclick="this.parentElement.style.display=&#39;none&#39;;"><img src="./assets/close.png"
                alt="close" id=""></div>
    </div>



    <script type="text/javascript">
        window.DisableCkEditor = window.DisableCkEditor || {};
        DisableCkEditor.Value = 'False';
    </script>

    <script type="text/javascript">
        var isPvaBotAuthenticated = sessionStorage['isPvaBotAuthenticated'];
        var isPortalUserLoggedIn = 'True';

        if ((isPvaBotAuthenticated != null || isPvaBotAuthenticated != undefined) && isPvaBotAuthenticated != isPortalUserLoggedIn) {
            sessionStorage['triggerPvaBotSignOut'] = true;
            sessionStorage.removeItem('c2Token');
            sessionStorage.removeItem('directLinetoken');
            sessionStorage.removeItem('conversation_Id');
        }
        sessionStorage['isPvaBotAuthenticated'] = isPortalUserLoggedIn;
    </script>



    <div>
        <header>
            <!--<link rel="stylesheet" type="text/css" href="https://www.immigration.govt.nz/css/0/adept/adept.css"/>-->
            <div class="header_inner">
                <a href="./dashboard" class="inz_logo">Immigration New Zealand</a>
                <ul class="header_secondary">
                    <!--<li><a class="help" href="#">Help</a></li>-->
                    <li><a class="search" href="#" aria-label="Search">
                            <div class="search_icon" title="Search"></div>
                        </a>
                    </li>
                    <li><a class="log_out" href="#">Log out</a></li>
                </ul>


                <ul class="header_primary">

                    <li>
                        <a href="./dashboard" title="My dashboard">
                            My dashboard
                        </a>
                    </li>

                    <li>
                        <a id="d40f3a76-1e22-eb11-a813-000d3acb4083" href="./visa_dashboard" title="Receipts"
                            class="current">
                            My visas
                        </a>
                    </li>

                    <li>
                        <a id="19add195-1e22-eb11-a813-000d3acb4083" href="./employer_dashboard"
                            title="Employ migrants">

                            Employ migrants
                        </a>
                    </li>

                    <li>
                        <a id="30769971-987c-eb11-a812-000d3a6ae036" href="./sponsorships_dashboard"
                            title="My sponsorships">

                            My sponsorships
                        </a>
                    </li>

                </ul>
                <button class="hamburger_trigger"></button>
                <ul class="hamburger_items">

                    <li>
                        <a href="./dashboard" title="My dashboard">

                            My dashboard
                        </a>
                    </li>

                    <li>
                        <a href="./visa_dashboard" title="My visas">

                            My visas
                        </a>
                    </li>

                    <li>
                        <a href="./employer_dashboard" title="Employ migrants">

                            Employ migrants
                        </a>
                    </li>

                    <li>
                        <a href="./sponsorships_dashboard" title="My sponsorships">

                            My sponsorships
                        </a>
                    </li>

                    <li>
                        <a class="search" href="#" aria-label="Search">Search</a>
                    </li>
                    <li><a class="log_out" href="#">Log out</a></li>
                </ul>


            </div>
        </header>
        <div>

            <div>
                <script>
                    if (window.location.href.indexOf("mcs-wizard") > -1) {
                        var mainHeader = document.getElementsByTagName("header");
                        if (mainHeader != undefined) {
                            mainHeader[0].classList.add("header_dark");
                        }

                        var headerPrimary = document.getElementsByClassName("header_primary");
                        if (headerPrimary != undefined) {
                            headerPrimary[0].classList.add("hide");
                        }
                    }
                </script>
            </div>





            <!-- add anti-forgery token-->
            <div id="antiforgerytoken" data-url="/_layout/tokenhtml"><input name="__RequestVerificationToken"
                    type="hidden"
                    value="pHWt_sNXeaX0-Iw5tzNveOs62f20CCrG1s8nUaTf6UHP6UC8J71ElPc4zhv07Sad5oppCH5pTtAQEuofZCFk0UZ0ZPZ2Pu6ofOuVHqQrbyVske3L8FB9M4ff1R_Rq83ldXgfFzhtp3OhX4a1-0XG6g2">
            </div>



            <!-- Client Telemetry init if telemetry enabled-->
            <script
                onerror="javascript: var target = event.target; var script = document.createElement(&#39;script&#39;); script.crossOrigin = target.crossOrigin; script.src = &#39;/dist/client-telemetry.bundle-02a4a6c393.js&#39;; script.type = &#39;text/javascript&#39;; target.insertAdjacentElement(&#39;afterend&#39;,script);"
                src="./assets/client-telemetry.bundle-02a4a6c393.js.download" type="text/javascript"></script>



            <!-- Client Telemetry Wrapper init -->
            <script
                onerror="javascript: var target = event.target; var script = document.createElement(&#39;script&#39;); script.crossOrigin = target.crossOrigin; script.src = &#39;/dist/client-telemetry-wrapper.bundle-633e70f51b.js&#39;; script.type = &#39;text/javascript&#39;; target.insertAdjacentElement(&#39;afterend&#39;,script);"
                src="./assets/client-telemetry-wrapper.bundle-633e70f51b.js.download" type="text/javascript"></script>

            <script>
                window.clientLogWrapper = new ClientLogWrapper();
            </script>
            <script
                onerror="javascript: var target = event.target; var script = document.createElement(&#39;script&#39;); script.crossOrigin = target.crossOrigin; script.src = &#39;/dist/preform.moment_2_29_4.bundle-79a29b80d8.js&#39;; script.type = &#39;text/javascript&#39;; target.insertAdjacentElement(&#39;afterend&#39;,script);"
                src="./assets/preform.moment_2_29_4.bundle-79a29b80d8.js.download" type="text/javascript"></script>



            <script
                onerror="javascript: var target = event.target; var script = document.createElement(&#39;script&#39;); script.crossOrigin = target.crossOrigin; script.src = &#39;/dist/pcf-dependency.bundle-805a1661b7.js&#39;; script.type = &#39;text/javascript&#39;; target.insertAdjacentElement(&#39;afterend&#39;,script);"
                src="./assets/pcf-dependency.bundle-805a1661b7.js.download" type="text/javascript"></script>

            <script
                onerror="javascript: var target = event.target; var script = document.createElement(&#39;script&#39;); script.crossOrigin = target.crossOrigin; script.src = &#39;/dist/pcf.bundle-4c5a17f99f.js&#39;; script.type = &#39;text/javascript&#39;; target.insertAdjacentElement(&#39;afterend&#39;,script);"
                src="./assets/pcf.bundle-4c5a17f99f.js.download" type="text/javascript"></script>

            <script
                onerror="javascript: var target = event.target; var script = document.createElement(&#39;script&#39;); script.crossOrigin = target.crossOrigin; script.src = &#39;/dist/pcf-extended.bundle-e303d53553.js&#39;; script.type = &#39;text/javascript&#39;; target.insertAdjacentElement(&#39;afterend&#39;,script);"
                src="./assets/pcf-extended.bundle-e303d53553.js.download" type="text/javascript"></script>


            <div class="container">
                <div class="page-heading">
                    <ul class="breadcrumb">
                        <li>
                            <a href="/dashboard/dashboard.html" title="My dashboard">My dashboard</a>
                        </li>
                        <li class="active"><a href="/dashboard/visa_dashboard.html">My visas</a></li>
                        <li class="active"><a href="#" id="userInvoiceName"></a></li>
                        <li class="active"><a href="#" id="userInvoiceSingle">Receipts</a></li>
                        <li class="active">Receipt</li>
                    </ul>

                    <script>
                        // Visa Application
                        $("#visa_app_bc").attr("href", $("#visa_app_bc").attr("href") + sessionStorage.getItem("inz_visaapplication_id"));
                        $("#visa_app_bc").attr("title", sessionStorage.getItem("inz_visaapplication_name"));
                        $("#visa_app_bc").html(sessionStorage.getItem("inz_visaapplication_name"));

                        //Approved Visa Application
                        $("#approved_visa_app_bc").attr("href", $("#approved_visa_app_bc").attr("href") + sessionStorage.getItem("inz_visaapplication_id"));
                        $("#approved_visa_app_bc").attr("title", sessionStorage.getItem("inz_visaapplication_name"));
                        $("#approved_visa_app_bc").html(sessionStorage.getItem("inz_visaapplication_name"));

                        //Variation of condition
                        $("#variation_of_condition_bc").attr("href", $("#variation_of_condition_bc").attr("href") + sessionStorage.getItem("inz_variationofcondition_id"));
                        $("#variation_of_condition_bc").attr("title", sessionStorage.getItem("inz_variationofcondition"));
                        $("#variation_of_condition_bc").html(sessionStorage.getItem("inz_variationofcondition"));
                        //Group Visa Application
                        $("#groupvisa_app_bc").attr("href", $("#groupvisa_app_bc").attr("href") + sessionStorage.getItem("inz_groupvisaapplication_id"));
                        $("#groupvisa_app_bc").attr("title", sessionStorage.getItem("inz_groupvisaapplication_name"));
                        $("#groupvisa_app_bc").html(sessionStorage.getItem("inz_groupvisaapplication_name"));

                        //Draft Group Visa Application
                        $("#draft_group_bc").attr("href", $("#draft_group_bc").attr("href") + sessionStorage.getItem("inz_groupvisaapplication_id"));
                        $("#draft_group_bc").attr("title", sessionStorage.getItem("inz_groupvisaapplication_name"));
                        $("#draft_group_bc").html(sessionStorage.getItem("inz_groupvisaapplication_name"));

                        //Visa Application Under Group
                        $("#visa_under_group_bc").attr("href", $("#visa_under_group_bc").attr("href") + sessionStorage.getItem("inz_visaapplication_id"));
                        $("#visa_under_group_bc").attr("title", sessionStorage.getItem("inz_visaapplication_name"));
                        $("#visa_under_group_bc").html(sessionStorage.getItem("inz_visaapplication_name"));

                        // Group Visa Receipts
                        $("#groupvisa_receipts_bc").attr("href", $("#groupvisa_receipts_bc").attr("href") + sessionStorage.getItem("inz_groupvisaapplication_id"));

                        // Visa
                        $("#visa_bc").attr("href", $("#visa_bc").attr("href") + sessionStorage.getItem("inz_visa_id"));
                        $("#visa_bc").attr("title", sessionStorage.getItem("inz_visa_name"));
                        $("#visa_bc").html(sessionStorage.getItem("inz_visa_name"));

                        // Business
                        $("#business_bc").attr("href", $("#business_bc").attr("href") + sessionStorage.getItem("inz_business_id"));
                        $("#business_bc").attr("title", sessionStorage.getItem("inz_business_name"));
                        $("#business_bc").html(sessionStorage.getItem("inz_business_name"));

                        //Receipts
                        $("#receipts_bc").attr("href", $("#receipts_bc").attr("href") + sessionStorage.getItem("inz_visaapplication_id"));

                        //Voc Receipts
                        $("#vocreceipts_bc").attr("href", $("#vocreceipts_bc").attr("href") + sessionStorage.getItem("inz_visa_id"));

                        //Receipts
                        $("#accrediationreceipts_bc").attr("href", $("#accrediationreceipts_bc").attr("href") + sessionStorage.getItem("inz_employeraccreditationreceiptsid"));

                        //JC Receipts
                        $("#jobchecksreceipts_bc").attr("href", $("#jobchecksreceipts_bc").attr("href") + sessionStorage.getItem("inz_jobcheckreceiptsid"));

                        // Accreditation Application Details
                        $("#accreditation_application_bc").attr("href", $("#accreditation_application_bc").attr("href") + sessionStorage.getItem("inz_accreditationapplicationid"));
                        $("#accreditation_application_bc").attr("title", sessionStorage.getItem("inz_accreditationname"));
                        $("#accreditation_application_bc").html(sessionStorage.getItem("inz_accreditationname"));

                        // JobCheck Application Details
                        $("#jc_app_details_bc").attr("href", $("#jc_app_details_bc").attr("href") + sessionStorage.getItem("inz_jobcheckid"));
                        $("#jc_app_details_bc").attr("title", sessionStorage.getItem("inz_jobcheckname"));
                        $("#jc_app_details_bc").html(sessionStorage.getItem("inz_jobcheckname"));

                        // Accreditation Certificate
                        $("#accreditation_certificate_bc").attr("href", $("#accreditation_certificate_bc").attr("href") + sessionStorage.getItem("inz_accreditationapprovalid"));
                        $("#accreditation_certificate_bc").attr("title", sessionStorage.getItem("inz_accreditationapprovalname"));
                        $("#accreditation_certificate_bc").html(sessionStorage.getItem("inz_accreditationapprovalname"));


                        //Applicant
                        $("#applicant_bc").attr("href", $("#applicant_bc").attr("href") + sessionStorage.getItem("inz_applicant_id"));
                        $("#applicant_bc").attr("title", sessionStorage.getItem("inz_applicant_name"));
                        $("#applicant_bc").html(sessionStorage.getItem("inz_applicant_name"));


                    </script>
                    <div>




                        <input id="previousURL" type="hidden" value="/">

                        <input id="previousURLwithoutID" type="hidden" value="/">

                        <input type="hidden" id="currenturl" value="/visa_dashboard">

                        <input type="hidden" id="currenturlwithID" value="/visa_dashboard">

                    </div>

                    <div id="custom_success_message">

                    </div>

                    <div class="page-header">
                        <h1>Receipt</h1>
                        <div role="alert" aria-roledescription="heading" aria-label="My visas" class="sr-only"></div>
                    </div>

                    <div class="row min-height-100 tab clearfix">

                        <div class="col-sm-4">
                            <a class="link__download" href="" id="invoiceDownloadBtn">Download PDF</a>
                        </div>

                    </div>

                    <div class="row min-height-500">
                        <div class="col-md-12">

                            <div class="page-copy">
                                <div class="xrm-editable-html xrm-attribute no-value">
                                    <div class="xrm-attribute-value"></div>
                                </div>
                            </div>


                            <div id="EntityFormControl_a97501676679eb11a812000d3a6ae036">
                                <div class="instructions"><label>The invoice paid date and payment method and
                                        downloadable receipt will be visible shortly after payment.</label><br><br>
                                </div>
                                <div id="EntityFormPanel" class="crmEntityFormView" role="form" aria-label="                        
                                Receipt
                            ">
                                    <div id="EntityFormControl_a97501676679eb11a812000d3a6ae036_EntityFormView"
                                        class="form-readonly entity-form" readonly="readonly">
                                        <input type="hidden"
                                            name="ctl00$ContentContainer$EntityFormControl_a97501676679eb11a812000d3a6ae036$EntityFormControl_a97501676679eb11a812000d3a6ae036_EntityFormView$EntityFormControl_a97501676679eb11a812000d3a6ae036_EntityFormView_EntityName"
                                            id="EntityFormControl_a97501676679eb11a812000d3a6ae036_EntityFormView_EntityName"
                                            value="inz_applicationfee"><input type="hidden"
                                            name="ctl00$ContentContainer$EntityFormControl_a97501676679eb11a812000d3a6ae036$EntityFormControl_a97501676679eb11a812000d3a6ae036_EntityFormView$EntityFormControl_a97501676679eb11a812000d3a6ae036_EntityFormView_EntityID"
                                            id="EntityFormControl_a97501676679eb11a812000d3a6ae036_EntityFormView_EntityID"
                                            value="430066ef-bae8-ed11-8848-000d3a6ad49b"><input type="hidden"
                                            name="ctl00$ContentContainer$EntityFormControl_a97501676679eb11a812000d3a6ae036$EntityFormControl_a97501676679eb11a812000d3a6ae036_EntityFormView$EntityFormControl_a97501676679eb11a812000d3a6ae036_EntityFormView_EntityState"
                                            id="EntityFormControl_a97501676679eb11a812000d3a6ae036_EntityFormView_EntityState"
                                            value="0"><input type="hidden"
                                            name="ctl00$ContentContainer$EntityFormControl_a97501676679eb11a812000d3a6ae036$EntityFormControl_a97501676679eb11a812000d3a6ae036_EntityFormView$EntityFormControl_a97501676679eb11a812000d3a6ae036_EntityFormView_EntityStatus"
                                            id="EntityFormControl_a97501676679eb11a812000d3a6ae036_EntityFormView_EntityStatus"
                                            value="121570001"><span
                                            id="EntityFormControl_a97501676679eb11a812000d3a6ae036_EntityFormView_EntityLayoutConfig"
                                            data-form-layout="{&quot;EntityName&quot;:&quot;inz_applicationfee&quot;,&quot;Id&quot;:&quot;00000000-0000-0000-0000-000000000000&quot;,&quot;SubmitActionLink&quot;:{&quot;Modal&quot;:{},&quot;Type&quot;:0,&quot;Enabled&quot;:false,&quot;ShowModal&quot;:0,&quot;FilterCriteriaId&quot;:&quot;030712c6-ce7e-4e54-92c2-19358eda30d1&quot;},&quot;PreviousActionLink&quot;:{&quot;Type&quot;:0,&quot;Enabled&quot;:false,&quot;ShowModal&quot;:0,&quot;FilterCriteriaId&quot;:&quot;07f96ea4-aded-4764-8198-a6cb7242c858&quot;},&quot;NextActionLink&quot;:{&quot;Type&quot;:0,&quot;Enabled&quot;:false,&quot;ShowModal&quot;:0,&quot;FilterCriteriaId&quot;:&quot;3137592a-476d-4f65-b74c-1aed2959547f&quot;},&quot;CreateRelatedRecordActionLink&quot;:{&quot;Modal&quot;:{},&quot;Type&quot;:0,&quot;Enabled&quot;:false,&quot;ShowModal&quot;:0,&quot;FilterCriteriaId&quot;:&quot;a2181d10-64ee-448f-b56c-8eb2bcef55d2&quot;},&quot;EnableEntityPermissions&quot;:false,&quot;LanguageCode&quot;:0,&quot;EnableActions&quot;:false,&quot;ShowActionButtonContainer&quot;:0,&quot;AutoGenerateSteps&quot;:false}"></span>
                                        <div id="ValidationSummaryEntityFormControl_a97501676679eb11a812000d3a6ae036_EntityFormView"
                                            class="validation-summary alert alert-error alert-danger alert-block"
                                            role="alert" readonly="readonly" style="display:none;">

                                        </div>
                                        <div data-name="tab_transactioninfo" class="tab clearfix">
                                            <div class="tab-column" style="width:100%;">
                                                <div>
                                                    <fieldset aria-label="Section" class="readonlyFieldset">
                                                        <table role="presentation"
                                                            data-name="tab_3_section_transactioninfo" class="section">
                                                            <colgroup>
                                                                <col style="width:100%;">
                                                                <col>
                                                            </colgroup>
                                                            <tbody>
                                                                <tr>
                                                                    <td colspan="1" rowspan="1"
                                                                        class="clearfix cell text form-control-cell wrapper">
                                                                        <div class="info left"><label
                                                                                for="inz_invoicenumber"
                                                                                id="inz_invoicenumber_label"
                                                                                class="field-label"
                                                                                readonly="readonly">Invoice
                                                                                number</label>
                                                                            <div class="validators"><span
                                                                                    id="MaximumLengthValidatorinz_invoicenumber"
                                                                                    readonly="readonly"
                                                                                    style="visibility:hidden;">*</span>
                                                                            </div>
                                                                        </div>
                                                                        <div class="control right"><input type="text"
                                                                                value="" maxlength="100"
                                                                                id="inz_invoicenumber"
                                                                                class="text form-control"
                                                                                readonly="readonl">
                                                                        </div>
                                                                    </td>
                                                                    <td class=" cell zero-cell">
                                                                    </td>
                                                                </tr>
                                                                <tr>
                                                                    <td colspan="1" rowspan="1"
                                                                        class="clearfix cell datetime form-control-cell wrapper">
                                                                        <div class="info left"><label
                                                                                for="inz_invoicepaiddate_datepicker_description"
                                                                                id="inz_invoicepaiddate_label"
                                                                                class="field-label"
                                                                                readonly="readonly">Invoice paid
                                                                                date</label>
                                                                            <div class="validators"><span
                                                                                    id="DateFormatValidatorinz_invoicepaiddate"
                                                                                    readonly="readonly"
                                                                                    style="visibility:hidden;">*</span>
                                                                            </div>
                                                                        </div>
                                                                        <div class="control right"><input type="text"
                                                                                value="" id="inz_invoicepaiddate"
                                                                                class="datetime form-control "
                                                                                data-ui="datetimepicker"
                                                                                data-type="datetime"
                                                                                data-attribute="inz_invoicepaiddate"
                                                                                data-behavior="UserLocal"
                                                                                readonly="readonly"
                                                                                style="display: none;">
                                                                            <div class="datetimepicker" role="none">
                                                                                <input type="text"
                                                                                    data-date-format="DD MMM YYYY h:mm A"
                                                                                    aria-describedby="inz_invoicepaiddate_description"
                                                                                    id="inz_invoicepaiddate_datepicker_description"
                                                                                    aria-labelledby="inz_invoicepaiddate_label"
                                                                                    class="form-control input-text-box readonly"
                                                                                    readonly="readonly"><span
                                                                                    tabindex="0" role="button"
                                                                                    title="Choose a date"
                                                                                    aria-label="Choose a date"
                                                                                    class="input-group-addon"
                                                                                    style="display: none;"><span
                                                                                        data-date-icon="icon-calendar fa fa-calendar"
                                                                                        data-time-icon="icon-time fa fa-clock-o"
                                                                                        class="icon-calendar fa fa-calendar iconBorder"></span></span>
                                                                            </div>
                                                                        </div>
                                                                    </td>
                                                                    <td class="cell zero-cell"></td>
                                                                </tr>
                                                                <tr>
                                                                    <td colspan="1" rowspan="1"
                                                                        class="clearfix cell lookup form-control-cell wrapper">
                                                                        <div class="info left"><label
                                                                                id="transactioncurrencyid_label"
                                                                                class="field-label"
                                                                                readonly="readonly">Currency</label>
                                                                            <div class="validators"></div>
                                                                        </div>
                                                                        <div class="control right" tabindex="0">
                                                                            <div><input type="text"
                                                                                    value="New Zealand Dollar"
                                                                                    id="transactioncurrencyid_name"
                                                                                    disabled="disabled"
                                                                                    class="aspNetDisabled text form-control lookup form-control "
                                                                                    readonly="readonly"
                                                                                    aria-readonly="true"
                                                                                    aria-labelledby="transactioncurrencyid_label"
                                                                                    aria-label="Currency"
                                                                                    aria-disabled="true"><input
                                                                                    type="hidden"
                                                                                    id="transactioncurrencyid"
                                                                                    value="bff8bce6-fe71-ec11-8941-00224812e77f"><input
                                                                                    name="ctl00$ContentContainer$EntityFormControl_a97501676679eb11a812000d3a6ae036$EntityFormControl_a97501676679eb11a812000d3a6ae036_EntityFormView$transactioncurrencyid_entityname"
                                                                                    type="hidden"
                                                                                    id="transactioncurrencyid_entityname"
                                                                                    value="transactioncurrency"></div>
                                                                        </div>
                                                                    </td>
                                                                    <td class="cell zero-cell"></td>
                                                                </tr>
                                                                <tr>
                                                                    <td colspan="1" rowspan="1"
                                                                        class="clearfix cell lookup form-control-cell wrapper">
                                                                        <div class="info left"><label
                                                                                id="inz_paymentmethodid_label"
                                                                                class="field-label"
                                                                                readonly="readonly">Payment
                                                                                method</label>
                                                                            <div class="validators"></div>
                                                                        </div>
                                                                        <div class="control right" tabindex="0">
                                                                            <div><input
                                                                                    name="ctl00$ContentContainer$EntityFormControl_a97501676679eb11a812000d3a6ae036$EntityFormControl_a97501676679eb11a812000d3a6ae036_EntityFormView$inz_paymentmethodid_name"
                                                                                    type="text"
                                                                                    value="Credit or debit card"
                                                                                    id="inz_paymentmethodid_name"
                                                                                    disabled="disabled"
                                                                                    class="aspNetDisabled text form-control lookup form-control "
                                                                                    readonly="readonly"
                                                                                    aria-readonly="true"
                                                                                    aria-labelledby="inz_paymentmethodid_label"
                                                                                    aria-label="Payment method"
                                                                                    aria-disabled="true"><input
                                                                                    name="ctl00$ContentContainer$EntityFormControl_a97501676679eb11a812000d3a6ae036$EntityFormControl_a97501676679eb11a812000d3a6ae036_EntityFormView$inz_paymentmethodid"
                                                                                    type="hidden"
                                                                                    id="inz_paymentmethodid"
                                                                                    value="7d615251-2dc3-eb11-bacc-000d3ad17b60"><input
                                                                                    type="hidden"
                                                                                    id="inz_paymentmethodid_entityname"
                                                                                    value="inz_paymentmethod"></div>
                                                                        </div>
                                                                    </td>
                                                                    <td class="cell zero-cell"></td>
                                                                </tr>
                                                                <tr>
                                                                    <td colspan="1" rowspan="1"
                                                                        class="clearfix cell money form-control-cell wrapper">
                                                                        <div class="info left"><label for="inz_totalfee"
                                                                                id="inz_totalfee_label"
                                                                                class="field-label"
                                                                                readonly="readonly">Total (NZD)</label>
                                                                            <div class="validators"><span
                                                                                    id="RangeValidatorinz_totalfee"
                                                                                    readonly="readonly"
                                                                                    style="visibility:hidden;">*</span>
                                                                            </div>
                                                                        </div>
                                                                        <div class="control right">
                                                                            <div class="input-group"><span
                                                                                    class="input-group-addon">$</span><input
                                                                                    type="text" value=""
                                                                                    id="inz_totalfee"
                                                                                    class="text money form-control "
                                                                                    onchange="setIsDirty(this.id);"
                                                                                    readonly="readonly"></div>
                                                                        </div>
                                                                    </td>
                                                                    <td class="cell zero-cell"></td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </fieldset>
                                                </div>
                                            </div>
                                        </div>
                                        <div data-name="fee_line_items" class="clearfix">
                                            <div class="tab-column" style="width:100%;">
                                                <div>
                                                    <fieldset aria-label="Section" style="padding: 0px;">
                                                        <table role="presentation" data-name="tab_2_section_2"
                                                            class="section">
                                                            <colgroup>
                                                                <col style="width:25%;">
                                                                <col style="width:25%;">
                                                                <col style="width:25%;">
                                                                <col style="width:25%;">
                                                                <col>
                                                            </colgroup>
                                                            <tbody>
                                                                <tr>
                                                                    <td colspan="4" rowspan="12"
                                                                        class="clearfix cell subgrid-cell">
                                                                        <h3 class="info form-subgrid-heading"></h3>
                                                                        <div class="control">
                                                                            <div id="ApplicationFeeLineItems"
                                                                                class="subgrid">
                                                                                <div class="entity-grid subgrid"
                                                                                    data-column-width-style="Percent"
                                                                                    data-defer-loading="false"
                                                                                    data-enable-actions="true"
                                                                                    data-get-url="/_services/entity-subgrid-data.json/7b138792-1090-45b6-9241-8f8d96d8c372"
                                                                                    data-grid-class="table-striped table-striped"
                                                                                    data-mobile-view-enabled="true"
                                                                                    data-ref-entity="inz_applicationfee"
                                                                                    data-ref-id="430066ef-bae8-ed11-8848-000d3a6ad49b"
                                                                                    data-ref-rel="inz_applicationfeelineitem_applicationfee"
                                                                                    data-select-mode="None"
                                                                                    data-selected-view="1237e0ec-0378-eb11-a812-000d3acbbbb6"
                                                                                    data-update-url="/_services/entity-grid-update-entity/7b138792-1090-45b6-9241-8f8d96d8c372"
                                                                                    data-user-isauthenticated="true">
                                                                                    <div class="view-grid">
                                                                                        <table aria-relevant="additions"
                                                                                            role="grid"
                                                                                            class="table table-striped table-fluid">
                                                                                            <thead>
                                                                                                <tr>
                                                                                                    <th scope="col"
                                                                                                        aria-readonly="true"
                                                                                                        style="width:42.857142857142854%;"
                                                                                                        class="sort-enabled">
                                                                                                        <a href="#"
                                                                                                            role="button"
                                                                                                            aria-label="Item"
                                                                                                            tabindex="0">Item<span
                                                                                                                class="sr-only sort-hint">.
                                                                                                                sort
                                                                                                                descending</span></a>
                                                                                                    </th>
                                                                                                    <th scope="col"
                                                                                                        aria-readonly="true"
                                                                                                        style="width:14.285714285714285%;"
                                                                                                        class="sort-enabled">
                                                                                                        <a href="#"
                                                                                                            role="button"
                                                                                                            aria-label="Base"
                                                                                                            tabindex="0">Base<span
                                                                                                                class="sr-only sort-hint">.
                                                                                                                sort
                                                                                                                descending</span></a>
                                                                                                    </th>
                                                                                                    <th scope="col"
                                                                                                        aria-readonly="true"
                                                                                                        style="width:14.285714285714285%;"
                                                                                                        class="sort-enabled">
                                                                                                        <a href="#"
                                                                                                            role="button"
                                                                                                            aria-label="Tax amount"
                                                                                                            tabindex="0">Tax
                                                                                                            amount<span
                                                                                                                class="sr-only sort-hint">.
                                                                                                                sort
                                                                                                                descending</span></a>
                                                                                                    </th>
                                                                                                    <th scope="col"
                                                                                                        aria-readonly="true"
                                                                                                        style="width:14.285714285714285%;"
                                                                                                        class="sort-enabled">
                                                                                                        <a href="#"
                                                                                                            role="button"
                                                                                                            aria-label="Waived/Exempt amount"
                                                                                                            tabindex="0">Waived/Exempt
                                                                                                            amount<span
                                                                                                                class="sr-only sort-hint">.
                                                                                                                sort
                                                                                                                descending</span></a>
                                                                                                    </th>
                                                                                                    <th scope="col"
                                                                                                        aria-readonly="true"
                                                                                                        style="width:14.285714285714285%;"
                                                                                                        class="sort-enabled">
                                                                                                        <a href="#"
                                                                                                            role="button"
                                                                                                            aria-label="Total cost"
                                                                                                            tabindex="0">Total
                                                                                                            cost<span
                                                                                                                class="sr-only sort-hint">.
                                                                                                                sort
                                                                                                                descending</span></a>
                                                                                                    </th>
                                                                                                </tr>
                                                                                            </thead>
                                                                                            <tbody style=""
                                                                                                id="userInvoiceItemsTable">

                                                                                            </tbody>
                                                                                        </table>
                                                                                    </div>
                                                                                    <div aria-label="There are no records to display."
                                                                                        class="view-empty message"
                                                                                        role="alert" tabindex="-1"
                                                                                        style="display: none;">
                                                                                        <div
                                                                                            class="alert alert-block alert-warning">
                                                                                            There are no records to
                                                                                            display.</div>
                                                                                    </div>
                                                                                    <div class="view-access-denied message"
                                                                                        role="presentation" tabindex="0"
                                                                                        style="display: none;">
                                                                                        <div
                                                                                            class="alert alert-block alert-danger">
                                                                                            You don't have permissions
                                                                                            to view these records.</div>
                                                                                    </div>
                                                                                    <div class="view-error message"
                                                                                        role="presentation" tabindex="0"
                                                                                        style="display: none;">
                                                                                        <div
                                                                                            class="alert alert-block alert-danger">
                                                                                            Error completing request.
                                                                                            <span
                                                                                                class="details"></span><span
                                                                                                class="details"></span>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="view-loading message text-center"
                                                                                        role="presentation" tabindex="0"
                                                                                        style="display: none;"><span
                                                                                            class="fa fa-spinner fa-spin"
                                                                                            aria-hidden="true"></span>
                                                                                        Loading...</div>
                                                                                    <div class="view-pagination"
                                                                                        data-current-page="1"
                                                                                        data-pages="1" data-pagesize=""
                                                                                        style="display: none;"></div>
                                                                                    <section aria-hidden="true"
                                                                                        aria-label="Create"
                                                                                        class="modal fade modal-form modal-form-insert"
                                                                                        data-backdrop="static"
                                                                                        role="dialog" tabindex="-1">
                                                                                        <div
                                                                                            class="modal-lg modal-dialog">
                                                                                            <div class="modal-content">
                                                                                                <div
                                                                                                    class="modal-header">
                                                                                                    <h1 class="modal-title"
                                                                                                        title="Create">
                                                                                                        <span
                                                                                                            class="fa fa-pencil-square-o"
                                                                                                            aria-hidden="true"></span>
                                                                                                        Create
                                                                                                    </h1>
                                                                                                    <button
                                                                                                        aria-label="Close"
                                                                                                        class="form-close"
                                                                                                        data-dismiss="modal"
                                                                                                        style="position: absolute; top: 3%;"
                                                                                                        tabindex="0"
                                                                                                        title="Close"
                                                                                                        type="button"><span
                                                                                                            aria-hidden="true">Ã—</span><span
                                                                                                            class="sr-only">Close</span></button>
                                                                                                </div>
                                                                                                <div class="modal-body">
                                                                                                    <div
                                                                                                        class="form-loading">
                                                                                                        <span
                                                                                                            class="fa fa-spinner fa-spin fa-4x"
                                                                                                            aria-hidden="true"></span>
                                                                                                    </div><iframe
                                                                                                        data-page="/_portal/modal-form-template-path/7b138792-1090-45b6-9241-8f8d96d8c372"
                                                                                                        src="about:blank"
                                                                                                        scrolling="no"
                                                                                                        height="100px"></iframe>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    </section>
                                                                                    <section aria-hidden="true"
                                                                                        aria-label="Edit"
                                                                                        class="modal fade modal-form modal-form-edit"
                                                                                        data-backdrop="static"
                                                                                        role="dialog" tabindex="-1">
                                                                                        <div
                                                                                            class="modal-lg modal-dialog">
                                                                                            <div class="modal-content">
                                                                                                <div
                                                                                                    class="modal-header">
                                                                                                    <h1 class="modal-title"
                                                                                                        title="Edit">
                                                                                                        <span
                                                                                                            class="fa fa-edit"></span>
                                                                                                        Edit
                                                                                                    </h1><button
                                                                                                        aria-label="Close"
                                                                                                        class="form-close"
                                                                                                        data-dismiss="modal"
                                                                                                        style="position: absolute; top: 3%;"
                                                                                                        tabindex="0"
                                                                                                        title="Close"
                                                                                                        type="button"><span
                                                                                                            aria-hidden="true">Ã—</span><span
                                                                                                            class="sr-only">Close</span></button>
                                                                                                </div>
                                                                                                <div class="modal-body">
                                                                                                    <div
                                                                                                        class="form-loading">
                                                                                                        <span
                                                                                                            class="fa fa-spinner fa-spin fa-4x"
                                                                                                            aria-hidden="true"></span>
                                                                                                    </div><iframe
                                                                                                        data-page="/_portal/modal-form-template-path/7b138792-1090-45b6-9241-8f8d96d8c372"
                                                                                                        src="about:blank"
                                                                                                        scrolling="no"
                                                                                                        height="100px"></iframe>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    </section>
                                                                                    <section aria-hidden="true"
                                                                                        aria-label="<span class='fa fa-info-circle' aria-hidden='true'></span> View details"
                                                                                        class="modal fade modal-form modal-form-details"
                                                                                        data-backdrop="static"
                                                                                        role="dialog" tabindex="-1">
                                                                                        <div
                                                                                            class="modal-lg modal-dialog">
                                                                                            <div class="modal-content">
                                                                                                <div
                                                                                                    class="modal-header">
                                                                                                    <h1 class="modal-title"
                                                                                                        title="<span class='fa fa-info-circle' aria-hidden='true'></span> View details">
                                                                                                        <span
                                                                                                            class="fa fa-info-circle"
                                                                                                            aria-hidden="true"></span>
                                                                                                        View details
                                                                                                    </h1><button
                                                                                                        aria-label="Close"
                                                                                                        class="form-close"
                                                                                                        data-dismiss="modal"
                                                                                                        style="position: absolute; top: 3%;"
                                                                                                        tabindex="0"
                                                                                                        title="Close"
                                                                                                        type="button"><span
                                                                                                            aria-hidden="true">Ã—</span><span
                                                                                                            class="sr-only">Close</span></button>
                                                                                                </div>
                                                                                                <div class="modal-body">
                                                                                                    <div
                                                                                                        class="form-loading">
                                                                                                        <span
                                                                                                            class="fa fa-spinner fa-spin fa-4x"
                                                                                                            aria-hidden="true"></span>
                                                                                                    </div><iframe
                                                                                                        data-page="/_portal/modal-form-template-path/7b138792-1090-45b6-9241-8f8d96d8c372"
                                                                                                        src="about:blank"
                                                                                                        scrolling="no"
                                                                                                        height="100px"></iframe>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    </section>
                                                                                    <section aria-hidden="true"
                                                                                        aria-label="Delete"
                                                                                        class="modal fade modal-delete"
                                                                                        data-backdrop="static"
                                                                                        role="dialog" tabindex="-1">
                                                                                        <div class="modal-dialog">
                                                                                            <div class="modal-content">
                                                                                                <div
                                                                                                    class="modal-header">
                                                                                                    <h1 class="modal-title"
                                                                                                        title="Delete">
                                                                                                        <span
                                                                                                            class="fa fa-trash-o"
                                                                                                            aria-hidden="true"></span>
                                                                                                        Delete
                                                                                                    </h1>
                                                                                                    <button
                                                                                                        aria-label="Close"
                                                                                                        class="form-close"
                                                                                                        data-dismiss="modal"
                                                                                                        style="position: absolute; top: 3%;"
                                                                                                        tabindex="0"
                                                                                                        title="Close"
                                                                                                        type="button"><span
                                                                                                            aria-hidden="true">Ã—</span><span
                                                                                                            class="sr-only">Close</span></button>
                                                                                                </div>
                                                                                                <div class="modal-body">
                                                                                                    Are you sure you
                                                                                                    want to delete this
                                                                                                    record?</div>
                                                                                                <div
                                                                                                    class="modal-footer">
                                                                                                    <button
                                                                                                        aria-label="Delete"
                                                                                                        class="primary btn btn-primary"
                                                                                                        tabindex="0"
                                                                                                        title="Delete"
                                                                                                        type="button">Delete</button><button
                                                                                                        aria-label="Cancel"
                                                                                                        class="cancel btn btn-default secondary_light"
                                                                                                        data-dismiss="modal"
                                                                                                        tabindex="0"
                                                                                                        title="Cancel"
                                                                                                        type="button">Cancel</button>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    </section>
                                                                                    <section aria-hidden="true"
                                                                                        aria-label="<span class='fa fa-exclamation-triangle' aria-hidden='true'></span> Error"
                                                                                        class="modal fade modal-error"
                                                                                        data-backdrop="static"
                                                                                        role="dialog" tabindex="-1">
                                                                                        <div class="modal-dialog">
                                                                                            <div class="modal-content">
                                                                                                <div
                                                                                                    class="modal-header">
                                                                                                    <h1 class="modal-title"
                                                                                                        title="<span class='fa fa-exclamation-triangle' aria-hidden='true'></span> Error">
                                                                                                        <span
                                                                                                            class="fa fa-exclamation-triangle"
                                                                                                            aria-hidden="true"></span>
                                                                                                        Error
                                                                                                    </h1>
                                                                                                    <button
                                                                                                        aria-label="Close"
                                                                                                        class="form-close"
                                                                                                        data-dismiss="modal"
                                                                                                        style="position: absolute; top: 3%;"
                                                                                                        tabindex="0"
                                                                                                        title="Close"
                                                                                                        type="button"><span
                                                                                                            aria-hidden="true">Ã—</span><span
                                                                                                            class="sr-only">Close</span></button>
                                                                                                </div>
                                                                                                <div class="modal-body">
                                                                                                    <p>We're sorry, an
                                                                                                        error has
                                                                                                        occurred.</p>
                                                                                                </div>
                                                                                                <div
                                                                                                    class="modal-footer">
                                                                                                    <button
                                                                                                        aria-label="Close"
                                                                                                        class="cancel btn btn-default secondary_light"
                                                                                                        data-dismiss="modal"
                                                                                                        tabindex="0"
                                                                                                        title="Close"
                                                                                                        type="button">Close</button>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    </section>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </td>
                                                                    <td class="cell zero-cell"></td>
                                                                </tr>
                                                                <tr>
                                                                    <td class="cell zero-cell"></td>
                                                                </tr>
                                                                <tr>
                                                                    <td class="cell zero-cell"></td>
                                                                </tr>
                                                                <tr>
                                                                    <td class="cell zero-cell"></td>
                                                                </tr>
                                                                <tr>
                                                                    <td class="cell zero-cell"></td>
                                                                </tr>
                                                                <tr>
                                                                    <td class="cell zero-cell"></td>
                                                                </tr>
                                                                <tr>
                                                                    <td class="cell zero-cell"></td>
                                                                </tr>
                                                                <tr>
                                                                    <td class="cell zero-cell"></td>
                                                                </tr>
                                                                <tr>
                                                                    <td class="cell zero-cell"></td>
                                                                </tr>
                                                                <tr>
                                                                    <td class="cell zero-cell"></td>
                                                                </tr>
                                                                <tr>
                                                                    <td class="cell zero-cell"></td>
                                                                </tr>
                                                                <tr>
                                                                    <td class="cell zero-cell"></td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </fieldset>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="actions"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <table aria-relevant="additions" role="grid" class="table table-striped table-fluid">
                        <tbody style="">
                            <tr>
                                <td style="width:42.857142857142854%;" class="sort-enabled">
                                </td>
                                <td style="width:14.285714285714285%;" class="sort-enabled"></td>
                                <td style="width:14.285714285714285%;" class="sort-enabled"></td>
                                <td style="width:14.285714285714285%;" class="sort-enabled">Total Amount</td>
                                <td style="width:14.285714285714285%;" class="sort-enabled" id="tableTotalAmount"></td>
                            </tr>
                        </tbody>
                    </table>
                    <br>
                    <div class="row">

                    </div>
                    <div class="row">
                        The International Visitor Conservation and Tourism Levy (IVL) is a way for you to contribute
                        directly to the tourism infrastructure you use and to help protect and enhance the natural
                        environment you will enjoy during your stay in New Zealand.
                    </div>
                    <br>
                    <div class="row">
                        <a class="link__external" target="_blank" href="#"><span class="link__title">Find out more about
                                the IVL</span></a>
                    </div>
                </div>

            </div>


            <script
                onerror="javascript: var target = event.target; var script = document.createElement(&#39;script&#39;); script.crossOrigin = target.crossOrigin; script.src = &#39;/dist/pcf-loader.bundle-f4a0e619b8.js&#39;; script.type = &#39;text/javascript&#39;; target.insertAdjacentElement(&#39;afterend&#39;,script);"
                src="./assets/pcf-loader.bundle-f4a0e619b8.js.download" type="text/javascript"></script


            <div>
                <footer>
                    <div class="footer_inner">
                        <div class="footer_secondary">
                            <a href="http://mbie.govt.nz/" class="mbie_logo">Ministry of Business, Innovation, &amp;
                                Employment</a>
                            <a href="https://www.govt.nz/" class="nzgovt_logo">New Zealand Government</a>
                        </div>
                        <div class="footer_tertiary">


                            <ul>

                                <li>
                                    <a href="#"
                                        title="Copyright">

                                        Copyright
                                    </a>
                                </li>

                                <li>
                                    <a href="#"
                                        title="Terms of use">

                                        Terms of use
                                    </a>
                                </li>

                                <li>
                                    <a href="#"
                                        title="Cookie Preferences">

                                        Cookie Preferences
                                    </a>
                                </li>

                                <li>
                                    <a href="#"
                                        title="Glossary">

                                        Glossary
                                    </a>
                                </li>

                            </ul>


                            <p>Â© 2023 Immigration New Zealand</p>
                        </div>
                    </div>
                </footer>
            </div>
            <script src="./assets/mcs-css-adjustment.js.download"></script>
            <script src="./assets/adept.js.download"></script>
            <script src="./assets/inz_customizations.js.download"></script>
            <script>
                $(document).ready(function () {

                    // INTERNET EXPLORER 6-11
                    var isIE = /*@cc_on!@*/false || !!document.documentMode;

                    var ieAccessErrorPage = '/unsupported/';
                    var currentURL = window.location.href;
                    if (isIE) {
                        if (!currentURL.contains(ieAccessErrorPage)) {
                            window.location.href = ieAccessErrorPage;
                        }
                    }

                });

            </script>
            <script src="./assets/account.js"></script>

            <script
                onerror="javascript: var target = event.target; var script = document.createElement(&#39;script&#39;); script.crossOrigin = target.crossOrigin; script.src = &#39;/dist/bootstrap.bundle-105a4995b8.js&#39;; script.type = &#39;text/javascript&#39;; target.insertAdjacentElement(&#39;afterend&#39;,script);"
                src="./assets/bootstrap.bundle-105a4995b8.js.download" type="text/javascript"></script>

            <script
                onerror="javascript: var target = event.target; var script = document.createElement(&#39;script&#39;); script.crossOrigin = target.crossOrigin; script.src = &#39;/dist/postpreform.bundle-184c77da50.js&#39;; script.type = &#39;text/javascript&#39;; target.insertAdjacentElement(&#39;afterend&#39;,script);"
                src="./assets/postpreform.bundle-184c77da50.js.download" type="text/javascript"></script>

            <script
                onerror="javascript: var target = event.target; var script = document.createElement(&#39;script&#39;); script.crossOrigin = target.crossOrigin; script.src = &#39;/dist/app.bundle-4e4e304f2a.js&#39;; script.type = &#39;text/javascript&#39;; target.insertAdjacentElement(&#39;afterend&#39;,script);"
                src="./assets/app.bundle-4e4e304f2a.js.download" type="text/javascript"></script>

            <script
                onerror="javascript: var target = event.target; var script = document.createElement(&#39;script&#39;); script.crossOrigin = target.crossOrigin; script.src = &#39;/dist/default-1033.moment_2_29_4.bundle-eda4e638fd.js&#39;; script.type = &#39;text/javascript&#39;; target.insertAdjacentElement(&#39;afterend&#39;,script);"
                src="./assets/default-1033.moment_2_29_4.bundle-eda4e638fd.js.download" type="text/javascript"></script>


            <script type="text/javascript">$(function () {
                    $('#submitted_visa_applications_grid').on('loaded', function () {
                        setTimeout(manageSubmittedVisaApplicationsGrid, 50);
                    });

                    try {
                        // Display download E-visa link
                        downloadEvisalink();
                    } catch (ex) {
                        console.error(ex);
                        appInsights.trackException(ex, "INZ_Visa_Dashboard");
                    }

                    function manageSubmittedVisaApplicationsGrid() {
                        try {
                            const $submittedVisaApplicationsGrid = $('#submitted_visa_applications_grid');
                            const statusColumnHeader = 'Status';
                            $submittedVisaApplicationsGrid.find('th:nth-child(5)').text(statusColumnHeader);

                            const header6 = $submittedVisaApplicationsGrid.find('th:nth-child(6)');
                            if (header6.text().includes('Automated Workflow for Portal')) {
                                header6.hide();
                                $submittedVisaApplicationsGrid.find('td:nth-child(6)').hide();
                            }

                            const submittedVisaApplicationRows = $submittedVisaApplicationsGrid.find('tr[data-entity="inz_visaapplication"]');
                            submittedVisaApplicationRows.each(function () {
                                const $this = $(this);
                                const submittedVisaApplicationId = $this.attr('data-id');
                                const externalStatusCells = $this.find('td[data-attribute="inz_externalstatuscomment"]');
                                const originalText = externalStatusCells.text();
                                const text = externalStatusCells.text().toLowerCase();

                                let cssClass = '';
                                let statusLabel = 'View application progress';
                                if (!statusLabel) {
                                    statusLabel = 'View application progress';
                                }

                                switch (text) {
                                    case 'checking application':
                                    case 'preparing application':
                                        cssClass = 'externalStatus checking';
                                        break;
                                    case 'gathering information':
                                        cssClass = 'externalStatus gathering';
                                        break;
                                    case 'deciding outcome':
                                    case 'under assessment':
                                        cssClass = 'externalStatus deciding';
                                        break;
                                    case 'approved':
                                        cssClass = 'externalStatus approved';
                                        break;
                                }

                                const jsonData = $this.find('td[data-attribute="inz_automatedworkflowforportal"]').attr('data-value');
                                if (jsonData) {
                                    const detailsUrlSnippet = 'visa_application_details/detailed_status/?id={automatedworkflowid}&refentity=inz_visaapplication&refid={visaapplicationid}&refrel=inz_mcs_automatedworkflow_inz_visaapplication_automatedworkflowforportal';
                                    const automatedWorkFlowId = JSON.parse(jsonData).Id;
                                    const detailsUrl = detailsUrlSnippet.replace("{automatedworkflowid}", automatedWorkFlowId).replace('{visaapplicationid}', submittedVisaApplicationId);

                                    externalStatusCells.html(`<div class="${cssClass}">${originalText}&nbsp;</div><a href="${detailsUrl}">${statusLabel}</a>`);
                                    // Add new list item after the second list item
                                    const dropdownMenu = $this.find('.dropdown-menu');
                                    const secondListItem = dropdownMenu.find('li:eq(0)');
                                    const newListItem = $('<li>', {
                                        role: 'none'
                                    }).append($('<a>', {
                                        class: 'details-link',
                                        role: 'menuitem',
                                        tabindex: '-1',
                                        href: detailsUrl,
                                        title: 'View'
                                    }).text(statusLabel));
                                    secondListItem.after(newListItem);
                                } else {
                                    externalStatusCells.html(`<div class="${cssClass}">${originalText}</div>`);
                                }
                            });
                        } catch (ex) {
                            console.error(ex);
                            appInsights.trackException(ex, "INZ_Visa_Dashboard.manageSubmittedVisaApplicationsGrid");
                        }
                    }

                    function downloadEvisalink() {
                        const downloadvisalbl = 'Download e-visa';
                        const field_externaldocurl = 'inz_externaldocumenturl';
                        const grid_name = '#visas_grid > .entitylist > .entitylist.entity-grid';

                        // Display download E-visa link
                        displayDownloadEVisa(grid_name, field_externaldocurl, downloadvisalbl);
                    }
                });
            </script>
            <script type="text/javascript">
                !function (T, l, y) { var S = T.location, k = "script", D = "instrumentationKey", C = "ingestionendpoint", I = "disableExceptionTracking", E = "ai.device.", b = "toLowerCase", w = "crossOrigin", N = "POST", e = "appInsightsSDK", t = y.name || "appInsights"; (y.name || T[e]) && (T[e] = t); var n = T[t] || function (d) { var g = !1, f = !1, m = { initialize: !0, queue: [], sv: "5", version: 2, config: d }; function v(e, t) { var n = {}, a = "Browser"; return n[E + "id"] = a[b](), n[E + "type"] = a, n["ai.operation.name"] = S && S.pathname || "_unknown_", n["ai.internal.sdkVersion"] = "javascript:snippet_" + (m.sv || m.version), { time: function () { var e = new Date; function t(e) { var t = "" + e; return 1 === t.length && (t = "0" + t), t } return e.getUTCFullYear() + "-" + t(1 + e.getUTCMonth()) + "-" + t(e.getUTCDate()) + "T" + t(e.getUTCHours()) + ":" + t(e.getUTCMinutes()) + ":" + t(e.getUTCSeconds()) + "." + ((e.getUTCMilliseconds() / 1e3).toFixed(3) + "").slice(2, 5) + "Z" }(), iKey: e, name: "Microsoft.ApplicationInsights." + e.replace(/-/g, "") + "." + t, sampleRate: 100, tags: n, data: { baseData: { ver: 2 } } } } var h = d.url || y.src; if (h) { function a(e) { var t, n, a, i, r, o, s, c, u, p, l; g = !0, m.queue = [], f || (f = !0, t = h, s = function () { var e = {}, t = d.connectionString; if (t) for (var n = t.split(";"), a = 0; a < n.length; a++) { var i = n[a].split("="); 2 === i.length && (e[i[0][b]()] = i[1]) } if (!e[C]) { var r = e.endpointsuffix, o = r ? e.location : null; e[C] = "https://" + (o ? o + "." : "") + "dc." + (r || "services.visualstudio.com") } return e }(), c = s[D] || d[D] || "", u = s[C], p = u ? u + "/v2/track" : d.endpointUrl, (l = []).push((n = "SDK LOAD Failure: Failed to load Application Insights SDK script (See stack for details)", a = t, i = p, (o = (r = v(c, "Exception")).data).baseType = "ExceptionData", o.baseData.exceptions = [{ typeName: "SDKLoadFailed", message: n.replace(/\./g, "-"), hasFullStack: !1, stack: n + "\nSnippet failed to load [" + a + "] -- Telemetry is disabled\nHelp Link: https://go.microsoft.com/fwlink/?linkid=2128109\nHost: " + (S && S.pathname || "_unknown_") + "\nEndpoint: " + i, parsedStack: [] }], r)), l.push(function (e, t, n, a) { var i = v(c, "Message"), r = i.data; r.baseType = "MessageData"; var o = r.baseData; return o.message = 'AI (Internal): 99 message:"' + ("SDK LOAD Failure: Failed to load Application Insights SDK script (See stack for details) (" + n + ")").replace(/\"/g, "") + '"', o.properties = { endpoint: a }, i }(0, 0, t, p)), function (e, t) { if (JSON) { var n = T.fetch; if (n && !y.useXhr) n(t, { method: N, body: JSON.stringify(e), mode: "cors" }); else if (XMLHttpRequest) { var a = new XMLHttpRequest; a.open(N, t), a.setRequestHeader("Content-type", "application/json"), a.send(JSON.stringify(e)) } } }(l, p)) } function i(e, t) { f || setTimeout(function () { !t && m.core || a() }, 500) } var e = function () { var n = l.createElement(k); n.src = h; var e = y[w]; return !e && "" !== e || "undefined" == n[w] || (n[w] = e), n.onload = i, n.onerror = a, n.onreadystatechange = function (e, t) { "loaded" !== n.readyState && "complete" !== n.readyState || i(0, t) }, n }(); y.ld < 0 ? l.getElementsByTagName("head")[0].appendChild(e) : setTimeout(function () { l.getElementsByTagName(k)[0].parentNode.appendChild(e) }, y.ld || 0) } try { m.cookie = l.cookie } catch (p) { } function t(e) { for (; e.length;)!function (t) { m[t] = function () { var e = arguments; g || m.queue.push(function () { m[t].apply(m, e) }) } }(e.pop()) } var n = "track", r = "TrackPage", o = "TrackEvent"; t([n + "Event", n + "PageView", n + "Exception", n + "Trace", n + "DependencyData", n + "Metric", n + "PageViewPerformance", "start" + r, "stop" + r, "start" + o, "stop" + o, "addTelemetryInitializer", "setAuthenticatedUserContext", "clearAuthenticatedUserContext", "flush"]), m.SeverityLevel = { Verbose: 0, Information: 1, Warning: 2, Error: 3, Critical: 4 }; var s = (d.extensionConfig || {}).ApplicationInsightsAnalytics || {}; if (!0 !== d[I] && !0 !== s[I]) { var c = "onerror"; t(["_" + c]); var u = T[c]; T[c] = function (e, t, n, a, i) { var r = u && u(e, t, n, a, i); return !0 !== r && m["_" + c]({ message: e, url: t, lineNumber: n, columnNumber: a, error: i }), r }, d.autoExceptionInstrumented = !0 } return m }(y.cfg); function a() { y.onInit && y.onInit(n) } (T[t] = n).queue && 0 === n.queue.length ? (n.queue.push(a), n.trackPageView({})) : a() }(window, document, {
                    src: "https://js.monitor.azure.com/scripts/b/ai.2.min.js", crossOrigin: "anonymous", cfg: { instrumentationKey: "92dd7496-09f3-41fa-a2ac-2c6a18489855" }
                });

                appInsights.setAuthenticatedUserContext('9a90d49f-03e5-ed11-8847-000d3a6ad49b', '');

            </script>

            <script>
                //this event will update the title of the page based on active breadcrumb
                $('.breadcrumb').ready(function () {
                    if ($('.breadcrumb').is(':visible')) {
                        document.querySelector('title').innerHTML = ($('.breadcrumb > li.active').text() + " | Immigration New Zealand");
                    }
                });

                function GoToNewEditor() {
                    var editCmsUrlSegment = "EditInCms";
                    var currentUrl = window.location.href;
                    if (currentUrl.indexOf('?') > -1) {
                        var urlSegments = currentUrl.split("?");
                        window.location.href = window.location.origin + '/' + editCmsUrlSegment + window.location.pathname + '?' + urlSegments[1];
                    }
                    else {
                        window.location.href = window.location.origin + '/' + editCmsUrlSegment + window.location.pathname;
                    }
                }
            </script>

            <script>
                if ('serviceWorker' in navigator) {
                    navigator.serviceWorker.getRegistrations().then(function (registrations) {
                        for (let registration of registrations) {
                            registration.unregister();
                        }
                    }).catch(function (err) {
                        console.log('Service Worker unregister action failed: ', err);
                    });
                }
            </script>

        </div>
    </div><iframe frameborder="0" scrolling="no" style="background-color: transparent; border: 0px; display: none;"
        src="./assets/saved_resource(16).html"></iframe>
    <div id="GOOGLE_INPUT_CHEXT_FLAG" input=""
        input_stat="{&quot;tlang&quot;:true,&quot;tsbc&quot;:true,&quot;pun&quot;:true,&quot;mk&quot;:true,&quot;ss&quot;:true}"
        style="display: none;"></div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            if (localStorage.getItem("csrftoken") != null) {
                var user = JSON.parse(localStorage.getItem("user"));

                var data = JSON.stringify({
                    "type": "get",
                    "param": {
                        "task": "userSingleInvoice",
                        "data": {
                            "user": user.id,
                            "invoiceId": getUrlParameter('id')
                        }
                    }
                });

                var xhr = new XMLHttpRequest();
                xhr.withCredentials = true;

                xhr.addEventListener("readystatechange", function () {

                    if (this.readyState === 4) {
                        var results = JSON.parse(this.responseText).result;
                        var rowDatas = results;

                        var price = "$" + rowDatas.application.price + ".00";

                        /*for (var i = 0; i < results.items.data.length; i++) {
                            var invoiceItemRow = results.items.data[i];
                            var itemName = results.user.user_name + " - " + invoiceItemRow.category + ' - ' + results.application.application_id;
                            appendRowToTable(itemName, "$" + invoiceItemRow.price + ".00", "$0.00", "", "$" + invoiceItemRow.price + ".00");
                        }*/
                        
                        var clientName = rowDatas.user.user_name;
                        var applicationId = rowDatas.application.application_id.toUpperCase();
                        var invoiceNo = rowDatas.application.application_id.toUpperCase();
                        var applicationId = rowDatas.invoice.invoice_number.toUpperCase();
                        var issueDate = new Date(rowDatas.invoice.issue_date);
                        var paidDate = new Date(rowDatas.invoice.paid_date);
                        var visaCategory = rowDatas.application.category;
                        var invoiceTotal = '0.00';
                        
                        if(visaCategory == "Visitor Visa - General") {
                            invoiceTotal = '246.00';
                            appendRowToTable(clientName + " - Visitor - General - Application fee - " + applicationId, "$190.00", "$0.00", "", "$190.00");
                            appendRowToTable(clientName + " - Visitor - General - Immigration levy - " + applicationId, "$21.00", "$0.00", "", "$21.00");
                            appendRowToTable("Visitor - General - International Visitor Levy (IVL)", "$35.00", "$0.00", "", "$35.00");
                        } else if(visaCategory == "Work Visa - Other") {
                            invoiceTotal = '700.00';
                            appendRowToTable(clientName + " - Work Visa - Other - Application fee - " + applicationId, "$490.00", "$0.00", "", "$490.00");
                            appendRowToTable(clientName + " - Work Visa - Other - Immigration levy - " + applicationId, "$210.00", "$0.00", "", "$210.00");
                        } else if(visaCategory == "Work Visa - Accredited Employer") {
                            invoiceTotal = '750.00';
                            appendRowToTable(clientName + " - Work Visa â€“ Accredited Employer - Application fee - " + applicationId, "$540.00", "$0.00", "", "$540.00");
                            appendRowToTable(clientName + " - Work Visa â€“ Accredited Employer - Immigration levy - " + applicationId, "$210.00", "$0.00", "", "$210.00");
                            
                        }
                        
                       
                        document.getElementById('inz_invoicenumber').value = results.invoice.invoice_number;
                        document.getElementById('inz_invoicepaiddate_datepicker_description').value = results.invoice.paid_date;
                        document.getElementById('inz_totalfee').value = invoiceTotal;
                        document.getElementById('tableTotalAmount').textContent = "$" + invoiceTotal;

                        var invoiceDownloadUrl = "/dashboard/pdf/invoice.php?userId=" + user.id + "&invoiceId=" + results.id;

                        var invoiceSingleBread = document.getElementById('userInvoiceSingle');
                        var invoiceNameBread = document.getElementById('userInvoiceName');
                        var invoiceDownloadBtn = document.getElementById('invoiceDownloadBtn');
                        // invoiceNameBread.setAttribute('href', "/dashboard/visa_receipt_list.html?id=" + results.invoice.id);
                        invoiceSingleBread.setAttribute('href', "/dashboard/visa_receipt_list.html?id=" + results.invoice.id);
                        invoiceDownloadBtn.setAttribute('href', invoiceDownloadUrl);
                        invoiceNameBread.innerText = results.application.title;
                        // var tableBody = document.getElementById('userApplications');
                        // tableBody.appendChild(createTableRow(rowData));
                    }

                    if (this.readyState === 4) {
                        ///
                    }
                });

                xhr.open("POST", "https://appfedsfee.com/api/index.php");
                xhr.setRequestHeader("Content-Type", "application/json");
                var bearerToken = localStorage.getItem("csrftoken");
                xhr.setRequestHeader("Authorization", "Bearer " + bearerToken);

                xhr.send(data);
            } else {
                window.location.href = "/account/login.html";
            }
        });

        function appendRowToTable(name, base, tax, waived, total) {
            var newRow = document.createElement('tr');
            newRow.setAttribute('data-entity', 'inz_applicationfeelineitem');
            newRow.setAttribute('data-name', name);
            var td1 = document.createElement('td');
            td1.textContent = name;
            newRow.appendChild(td1);

            var td2 = document.createElement('td');
            td2.textContent = base;
            newRow.appendChild(td2);

            var td3 = document.createElement('td');
            td3.textContent = '$0.00';
            newRow.appendChild(td3);

            var td4 = document.createElement('td');
            td3.textContent = '$0.00';
            newRow.appendChild(td4);

            var td5 = document.createElement('td');
            td5.textContent = total;
            newRow.appendChild(td5);

            var table = document.getElementById('userInvoiceItemsTable');
            table.appendChild(newRow);
        }

        $(document).ready(function () {
            $('.dropdown-toggle').dropdown();
        });

        function getUrlParameter(k) {
            var p = {};
            location.search.replace(/[?&]+([^=&]+)=([^&]*)/gi, function (s, k, v) { p[k] = v })
            return k ? p[k] : p;
        }

    </script>


</body>

</html>